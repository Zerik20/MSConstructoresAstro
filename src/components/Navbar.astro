<nav class="navbar bg-white dark:bg-gray-900 fixed w-full z-20 top-0 start-0"> 
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="https://flowbite.com/" class="flex items-center space-x-3 rtl:space-x-reverse">
        <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Flowbite Logo">
        <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Flowbite</span>
    </a>
    <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
        <button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Idioma</button>
        <button data-collapse-toggle="navbar-sticky" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-sticky" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
        </button>
    </div>
    <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
        <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0">
          <li class="nav-item">
            <a href="#INICIO" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Inicio</a>
        </li>
          <li class="nav-item">
              <a href="#SERVICIOS" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Servicios</a>
          </li>
          <li class="nav-item">
            <a href="#NOSOTROS" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Nosotros</a>
        </li>
        <li class="nav-item">
          <a href="#ELIGENOS" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Eligenos</a>
      </li>
      <li class="nav-item">
        <a href="#PROCESO" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Proceso</a>
    </li>
    <li class="nav-item">
      <a href="#PROYECTOS" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Proyectos</a>
  </li>
  <li class="nav-item">
    <a href="#PREGUNTAS" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Preguntas</a>
</li>
<li class="nav-item">
  <a href="#CONTACTO" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 md:p-0 md:dark:hover:text-gray-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Contacto</a>
</li>
          <!-- Más enlaces aquí -->
        </ul>
    </div>
  </div>
</nav>

<style>
/* Navbar transparente por defecto */
.navbar {
  background-color: transparent;
  transition: background-color 0.3s ease;
}

/* Navbar en modo scroll (se vuelve azul) */
.navbar.scrolled {
  background-color: #1d4ed8; /* Azul */
}

/* Estilo para el menú en modo móvil */
.navbar.open {
  background-color: #1d4ed8; /* Azul cuando se despliega en móvil */
}

/* Efecto de desplazamiento suave */
html {
  scroll-behavior: smooth;
}

/* Estilo para el enlace activo */
.nav-item.active a {
  color: #87a9ff; /* Azul activo */
  font-weight: bold;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Selecciona el navbar y los elementos relevantes
  const navbar = document.querySelector('.navbar');
  const menuButton = document.querySelector('[data-collapse-toggle]');
  const navbarMenu = document.querySelector('#navbar-sticky');
  const navLinks = document.querySelectorAll('.navbar a');

  // Función para quitar la clase 'active' de todos los elementos
  function removeActiveClass() {
    navLinks.forEach(link => {
      link.parentElement.classList.remove('active');
    });
  }

  // Detecta el scroll para cambiar el color
  window.addEventListener('scroll', function() {
    if (window.scrollY > 50) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }

    // Detecta la posición de la página y marca el enlace activo durante el scroll
    let currentSection = '';

    // Obtener todas las secciones de la página
    const sections = document.querySelectorAll('section');

    // Recorre todas las secciones para determinar cuál está visible en la pantalla
    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      if (scrollY >= sectionTop - 60) {
        currentSection = section.getAttribute('id'); // Obtiene el id de la sección actual
      }
    });

    // Quita la clase 'active' de todos los enlaces
    navLinks.forEach(link => {
      link.parentElement.classList.remove('active');
      if (link.getAttribute('href').includes(currentSection)) {
        link.parentElement.classList.add('active'); // Agrega la clase 'active' al enlace correspondiente
      }
    });
  });

  // Función para abrir/cerrar el menú móvil y cambiar el color del navbar
  menuButton.addEventListener('click', function() {
    navbarMenu.classList.toggle('hidden'); // Muestra/oculta el menú
    navbar.classList.toggle('open'); // Cambia el color del navbar al abrir el menú en móvil
  });

  // Función para cerrar el menú después de hacer clic en un enlace (en modo móvil)
  navLinks.forEach(link => {
    link.addEventListener('click', function() {
      if (window.innerWidth < 768) { // Solo se cierra si es móvil
        navbarMenu.classList.add('hidden');
        navbar.classList.remove('open'); // Mantener el color azul después de cerrar el menú
      }
      removeActiveClass();
      this.parentElement.classList.add('active');
    });
  });
});
</script>
